{"version":3,"sources":["../../src/db/mongoDB.js"],"names":["mongodb","require","config","mongoDB","constructor","mongoClient","MongoClient","ObjectID","mongoURL","get","onConnect","callback","console","log","connect","err","db","module","exports"],"mappings":"AAAA;;AACA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,MAAMC,SAASD,QAAQ,QAAR,CAAf;;AAEA,MAAME,OAAN,CAAa;AACZC,eAAa;AACZ,OAAKC,WAAL,GAAmBL,QAAQM,WAA3B;AACA,OAAKC,QAAL,GAAgBP,QAAQO,QAAxB;AACE,OAAKC,QAAL,GAAgB,eAAeN,OAAOO,GAAP,CAAW,kBAAX,CAAf,GAAgD,GAAhD,GAAsDP,OAAOO,GAAP,CAAW,kBAAX,CAAtD,GAAuF,GAAvF,GAA6FP,OAAOO,GAAP,CAAW,oBAAX,CAA7G;AACF;;AAEDC,WAAUC,QAAV,EAAoB;AACnBC,UAAQC,GAAR,CAAY,wBAAZ;AACA,OAAKR,WAAL,CAAiBS,OAAjB,CAAyB,KAAKN,QAA9B,EAAwC,CAACO,GAAD,EAAMC,EAAN,KAAa;AACpD,OAAGD,GAAH,EACCJ,SAASI,GAAT,EADD,KAGCJ,SAAS,IAAT,EAAeK,EAAf,EAAmB,KAAKT,QAAxB;AACD,GALD;AAMA;AAfW;;AAkBbU,OAAOC,OAAP,GAAiB,IAAIf,OAAJ,EAAjB","file":"mongoDB.js","sourcesContent":["\"use strict\";\r\nconst mongodb = require('mongodb');\r\nconst config = require('config');\r\n\r\nclass mongoDB{\r\n\tconstructor(){\r\n\t\tthis.mongoClient = mongodb.MongoClient;\r\n\t\tthis.ObjectID = mongodb.ObjectID;\r\n    this.mongoURL = 'mongodb://' + config.get('mongoConfig.host') + ':' + config.get('mongoConfig.port') + '/' + config.get('mongoConfig.dbName');\r\n\t}\r\n\r\n\tonConnect(callback) {\r\n\t\tconsole.log(\"connecting to mongo...\");\r\n\t\tthis.mongoClient.connect(this.mongoURL, (err, db) => {\r\n\t\t\tif(err)\r\n\t\t\t\tcallback(err);\r\n\t\t\telse\r\n\t\t\t\tcallback(null, db, this.ObjectID);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = new mongoDB();\r\n"]}